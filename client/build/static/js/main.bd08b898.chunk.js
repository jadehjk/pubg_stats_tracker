(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(t,e,a){},105:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),s=a(12),r=a.n(s),i=(a(74),a(63)),o=a(28),u=a.n(o),l=a(41),d=a(19),h=(a(76),a(42)),m=a.n(h),j=(a(95),a(130)),p=a(129),b=a(60),f=a.n(b),O=a(128),v=a(126),x=a(135),g=a(3);var y=function(t){var e=Object(n.useState)(""),a=Object(d.a)(e,2),c=a[0],s=a[1];return Object(g.jsxs)("div",{className:"SearchBar",children:[Object(g.jsx)("div",{className:"SearchBarText",children:Object(g.jsx)(v.a,{children:Object(g.jsx)(x.a,{value:c,onChange:function(t){t.stopPropagation(),s(t.target.value)},endAdornment:Object(g.jsx)(O.a,{position:"end",children:Object(g.jsx)(p.a,{"aria-label":"clear",onClick:function(){s("")},children:Object(g.jsx)(f.a,{})})}),placeholder:"Player1, Player2, etc."})})}),Object(g.jsx)(j.a,{className:"SearchBarButton",variant:"contained",color:"primary",onClick:function(){t.onPlayersSearch(c)},children:" Search"})]})},k=(a(102),a(133)),S=a(131),w=a(132),P=a(61),C=a.n(P),N=a(62),T=a.n(N),E=a(134);var D=function(t){var e,a=Object(n.useState)(!1),c=Object(d.a)(a,2),s=c[0],r=c[1];function i(t,e){return"".concat(t,"/").concat(e)}return Object(g.jsxs)("div",{className:"MatchListItem",children:[Object(g.jsxs)("div",{className:"MatchGroup",children:[null===(e=t.match.teams[0].players)||void 0===e?void 0:e.map((function(t){return Object(g.jsx)(S.a,{children:Object(g.jsx)(w.a,{primary:t.name,secondary:"Damage: ".concat(t.damage," Kills: ").concat(t.kills)})},t.name)})),Object(g.jsx)("span",{className:"Rank",children:i(t.match.teams[0].rank,t.match.teams.length)}),Object(g.jsx)("span",{className:"DaysSince",children:"".concat(t.match.date," days ago")}),Object(g.jsx)(S.a,{button:!0,onClick:function(){r(!s)},children:s?Object(g.jsx)(C.a,{}):Object(g.jsx)(T.a,{})},t.match.teams[0].id)]},t.match.teams[0].id),Object(g.jsx)(E.a,{in:s,unmountOnExit:!0,children:Object(g.jsx)(k.a,{children:t.match.teams.map((function(e){var a;return Object(g.jsx)("div",{children:Object(g.jsx)(k.a,{children:Object(g.jsxs)("div",{className:"MatchGroup",children:[null===(a=e.players)||void 0===a?void 0:a.map((function(t){return Object(g.jsx)(S.a,{children:Object(g.jsx)(w.a,{primary:t.name,secondary:"Damage: ".concat(t.damage," Kills: ").concat(t.kills)})},t.name)})),Object(g.jsx)("div",{className:"MatchGroup",children:Object(g.jsx)("span",{children:i(e.rank,t.match.teams.length)})})]})},e.id)},e.id)}))},t.match.id)},t.match.id)]},t.match.id)},M=a(43),B=a.n(M);var I=function(){var t=Object(n.useState)([]),e=Object(d.a)(t,2),a=e[0],c=e[1],s=Object(n.useState)(""),r=Object(d.a)(s,2),o=r[0],h=r[1];function j(t,e){var a=Math.abs(t.getTime()-e.getTime());return Math.ceil(a/864e5)}function p(t,e){var a=t,n=[],s=[],r={};if(a&&a[0]){var i=new Date;a[0].forEach((function(t){var a=new Date(t.data.attributes.createdAt);t.included.forEach((function(t){"roster"===t.type&&n.push({id:t.id,playerIds:t.relationships.participants.data.map((function(t){return t.id})),rank:t.attributes.stats.rank,players:[]}),"participant"===t.type&&(r[t.id]={assists:t.attributes.stats.assists,damage:parseInt(t.attributes.stats.damageDealt),kills:t.attributes.stats.kills,timeSurvived:t.attributes.stats.timeSurvived/60,rank:t.attributes.stats.winPlace,name:t.attributes.stats.name,isTarget:e.includes(t.attributes.stats.name)})})),n.forEach((function(t){t.playerIds.forEach((function(e){t.players.push(r[e]),r[e].isTarget&&(t.isTarget=!0)}))})),n.sort((function(t,e){return t.rank-e.rank}));for(var c=[],o=[],u=n.length,l=0;l<u;++l)n[l].isTarget?c.push(n[l]):o.push(n[l]);s.push({id:t.data.id,teams:c.concat(o),date:j(i,a)}),n=[],r={}})),c([].concat(s))}else h("Could not find players with the provided name. Please make sure that the names are cased correctly.")}function b(t,e){return f.apply(this,arguments)}function f(){return(f=Object(l.a)(u.a.mark((function t(e,a){var n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length<1)){t.next=3;break}return h("Could not find players with the provided name. Please make sure that the names are cased correctly."),t.abrupt("return");case 3:for(n=0;n<e.length;++n)e[n]="https://api.pubg.com/shards/steam/matches/".concat(e[n]);return t.next=6,m.a.get("/matches?matchUrls=".concat(e));case 6:if(!(c=t.sent).data.status||400!==c.data.status){t.next=10;break}return h("Could not find players with the provided name. Please make sure that the names are cased correctly."),t.abrupt("return");case 10:p(c.data,a);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return(O=Object(l.a)(u.a.mark((function t(e){var a,n,c,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return","===(a=e.replace(/\s+/g,""))[a.length-1]&&a.slice(0,-1),n=a.split(","),t.next=5,m.a.get("/players?names=".concat(a));case 5:if(c=t.sent,console.log(c),!c.data.status||400!==c.data.status){t.next=10;break}return h("Could not find players with the provided name. Please make sure that the names are cased correctly."),t.abrupt("return");case 10:s=[],c.data.data.forEach((function(t){var e=[];t.relationships.matches.data.forEach((function(t){e.push(t)})),s.push(e.map((function(t){return t.id})))})),b(Object(i.a)(B.a.intersection.apply(B.a,s)),n);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(y,{onPlayersSearch:function(t){c([]),function(t){O.apply(this,arguments)}(t)}}),Object(g.jsxs)("div",{children:[o.length>0&&Object(g.jsx)("div",{children:o}),a.map((function(t){return Object(g.jsx)("div",{children:Object(g.jsx)(k.a,{children:Object(g.jsx)(D,{match:t})},t.id)})}))]})]})},F=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,137)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,s=e.getLCP,r=e.getTTFB;a(t),n(t),c(t),s(t),r(t)}))};r.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(I,{})}),document.getElementById("root")),F()},74:function(t,e,a){},76:function(t,e,a){},95:function(t,e,a){}},[[105,1,2]]]);
//# sourceMappingURL=main.bd08b898.chunk.js.map